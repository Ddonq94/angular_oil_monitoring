<div class="animated fadeIn">
  <div class="row">

    <div class="col-sm-6 col-lg-{{12/cards.length}}"  *ngFor='let card of cards; let i = index'>
      <div class="card text-white bg-{{bscolors[i]}}">
        <div class="card-body pb-0">
          <button type="button" class="btn btn-transparent p-0 float-right">
            <i class="icon-speedometer"></i>
          </button>
          <h3 >{{card.count | number: '1.2-2' }}</h3>
          <small>{{card.title}}</small>
        </div>
        <!-- <div class="chart-wrapper mt-3 mx-3" style="height:70px;">
          <canvas baseChart class="chart"
          [datasets]="lineChart2Data"
          [labels]="lineChart2Labels"
          [options]="lineChart2Options"
          [colors]="lcColours[i]"
          [legend]="lineChart2Legend"
          [chartType]="lineChart2Type"></canvas>
          {{i}}
        </div> -->
      </div>
    </div><!--/.col-->

  </div><!--/.row-->
  <div class="card">
    <div class="card-body">
      <div class="row">
        <div class="col-sm-6" *ngIf='charts.length>0'>
          <h4 class="card-title mb-0">{{charts[0].title}} ({{prodName}})</h4>
          <div class="small text-muted">{{charts[0].desc}}</div>
        </div><!--/.col-->


        <div class="col-sm-3 d-none d-md-block">


          <ng-multiselect-dropdown
            [placeholder]="'Select Product'"
            [data]="allProd"
            name='prod'
            [(ngModel)]="prodd"
            [settings]="depdropdownSettings"
            (onSelect)="onItemSelect($event,'prod')"
          (onDeSelect)="onItemDeSelect($event,'prod')"
          (onFilterChange)="onFilterChange($event,'prod')"
          >
          </ng-multiselect-dropdown>

        </div><!--/.col-->

        <div class="col-sm-3 d-none d-md-block">
          <div class="float-right" style="width: 100%">

            <button style="width: 49%" type="button" class="btn btn-primary "  (click)="dmv.toggle()" >Start &nbsp; <i class="icon-calendar"></i></button>
            <input  style="display:none" name="mvbld" (dateSelect)="setfrom($event)" [(ngModel)]="datemodst" ngbDatepicker #dmv="ngbDatepicker" (click)="dmv.toggle()">
            <button style="width: 49%" type="button" [disabled]='!(toggle)' class="btn btn-danger "  (click)="ddv.toggle()" >End &nbsp; <i class="icon-calendar"></i></button>
            <input  style="display:none" [minDate]='mindate' name="dvbld" (dateSelect)="setto($event)" [(ngModel)]="datemodend" ngbDatepicker #ddv="ngbDatepicker" (click)="ddv.toggle()">
          </div>

        </div><!--/.col-->


      </div><!--/.row-->

      <div class="row">
        <div class="col-sm-12 col-lg-9">

          <div class="chart-wrapper" style="height:300px;margin-top:40px;">
            <canvas baseChart class="chart"
            [datasets]="mainChartData"
            [labels]="mainChartLabels"
            [options]="mainChartOptions"
            [colors]="mainChartColours"
            [legend]="mainChartLegend"
            [chartType]="mainChartType"></canvas>
          </div>

        </div><!--/.col-->

        <div style='margin-top:10px' class="col-sm-12 col-lg-3">


           <table *ngIf="events.length>0"  class="table table-responsive-sm table-hover table-outline mb-0">
            <thead class="thead-light">
              <tr>
                  <th>Latest Events</th>
              </tr>
            </thead>
            <tbody>

              <tr *ngFor='let ev of events;'>

                <td>
                  <div>{{ev.title}}</div>
                  <div class="small text-muted">
                    <span>{{ev.desc}}</span>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>

        </div><!--/.col-->


      </div><!--/.row-->

    </div>
    <div class="card-footer" *ngIf="false" >
      <div class="row text-center">
        <div class="col-sm-12 col-md mb-sm-2 mb-0">
          <div class="text-muted">Visits</div>
          <strong>29.703 Users (40%)</strong>
          <div class="progress progress-xs mt-2">
            <div class="progress-bar bg-success" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="col-sm-12 col-md mb-sm-2 mb-0">
          <div class="text-muted">Unique</div>
          <strong>24.093 Users (20%)</strong>
          <div class="progress progress-xs mt-2">
            <div class="progress-bar bg-info" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="col-sm-12 col-md mb-sm-2 mb-0">
          <div class="text-muted">Pageviews</div>
          <strong>78.706 Views (60%)</strong>
          <div class="progress progress-xs mt-2">
            <div class="progress-bar bg-warning" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="col-sm-12 col-md mb-sm-2 mb-0">
          <div class="text-muted">New Users</div>
          <strong>22.123 Users (80%)</strong>
          <div class="progress progress-xs mt-2">
            <div class="progress-bar bg-danger" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
        <div class="col-sm-12 col-md mb-sm-2 mb-0">
          <div class="text-muted">Bounce Rate</div>
          <strong>40.15%</strong>
          <div class="progress progress-xs mt-2">
            <div class="progress-bar" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--/.card-->
  <div class="row" *ngIf="false">
    <div class="col-sm-6 col-lg-3">
      <div class="brand-card">
        <div class="brand-card-header bg-facebook">
          <i class="fa fa-facebook"></i>
          <div class="chart-wrapper">
            <canvas baseChart class="chart"
            [datasets]="brandBoxChartData1"
            [labels]="brandBoxChartLabels"
            [options]="brandBoxChartOptions"
            [colors]="brandBoxChartColours"
            [legend]="brandBoxChartLegend"
            [chartType]="brandBoxChartType"></canvas>
          </div>
        </div>
        <div class="brand-card-body">
          <div>
            <div class="text-value">89k</div>
            <div class="text-uppercase text-muted small">friends</div>
          </div>
          <div>
            <div class="text-value">459</div>
            <div class="text-uppercase text-muted small">feeds</div>
          </div>
        </div>
      </div>
    </div><!--/.col-->
    <div class="col-sm-6 col-lg-3">
      <div class="brand-card">
        <div class="brand-card-header bg-twitter">
          <i class="fa fa-twitter"></i>
          <div class="chart-wrapper">
            <canvas baseChart class="chart"
            [datasets]="brandBoxChartData2"
            [labels]="brandBoxChartLabels"
            [options]="brandBoxChartOptions"
            [colors]="brandBoxChartColours"
            [legend]="brandBoxChartLegend"
            [chartType]="brandBoxChartType"></canvas>
          </div>
        </div>
        <div class="brand-card-body">
          <div>
            <div class="text-value">973k</div>
            <div class="text-uppercase text-muted small">followers</div>
          </div>
          <div>
            <div class="text-value">1.792</div>
            <div class="text-uppercase text-muted small">tweets</div>
          </div>
        </div>
      </div>
    </div><!--/.col-->
    <div class="col-sm-6 col-lg-3">
      <div class="brand-card">
        <div class="brand-card-header bg-linkedin">
          <i class="fa fa-linkedin"></i>
          <div class="chart-wrapper">
            <canvas baseChart class="chart"
            [datasets]="brandBoxChartData3"
            [labels]="brandBoxChartLabels"
            [options]="brandBoxChartOptions"
            [colors]="brandBoxChartColours"
            [legend]="brandBoxChartLegend"
            [chartType]="brandBoxChartType"></canvas>
          </div>
        </div>
        <div class="brand-card-body">
          <div>
            <div class="text-value">500+</div>
            <div class="text-uppercase text-muted small">contacts</div>
          </div>
          <div>
            <div class="text-value">292</div>
            <div class="text-uppercase text-muted small">feeds</div>
          </div>
        </div>
      </div>
    </div><!--/.col-->
    <div class="col-sm-6 col-lg-3">
      <div class="brand-card">
        <div class="brand-card-header bg-google-plus">
          <i class="fa fa-google-plus"></i>
          <div class="chart-wrapper">
            <canvas baseChart class="chart"
            [datasets]="brandBoxChartData4"
            [labels]="brandBoxChartLabels"
            [options]="brandBoxChartOptions"
            [colors]="brandBoxChartColours"
            [legend]="brandBoxChartLegend"
            [chartType]="brandBoxChartType"></canvas>
          </div>
        </div>
        <div class="brand-card-body">
          <div>
            <div class="text-value">894</div>
            <div class="text-uppercase text-muted small">followers</div>
          </div>
          <div>
            <div class="text-value">92</div>
            <div class="text-uppercase text-muted small">circles</div>
          </div>
        </div>
      </div>
    </div><!--/.col-->
  </div><!--/.row-->
  <div class="row" *ngIf="true" >
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          Latest Transactions
        </div>

        <div class="card-body">
          <tabset>
            <tab *ngIf="tabs['mv2dv']"  heading='{{tabs["mv2dv"].title}}'>

              <!-- <div class="card-title">title</div> -->
                <table class="table table-responsive-sm table-hover table-outline mb-0">
                  <thead class="thead-light">
                    <tr>
                      <th>Inspector Name</th>
                      <th>Owner</th>
                      <th>Volume</th>
                      <th>MV (MVBLD)</th>
                      <th>DV (DVBLD)</th>

                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of tabs['mv2dv'].data"  >

                      <td>
                        <div>{{item.inspector_name}}</div>
                        <!-- <div class="small text-muted">
                          <span>New</span> | Registered: Jan 1, 2015
                        </div> -->
                      </td>
                      <td>
                        <div>{{item.owner.toUpperCase()}}</div>

                      </td>
                      <td>
                        <div>{{item.volume | number: '1.2-2'}}</div>

                      </td>
                      <td>
                        <div>{{item.m_name}}</div>
                        <div class="small text-muted">
                          <span>BLD</span> | {{item.mbl_date}}
                        </div>
                      </td>
                      <td>
                        <div>{{item.d_name}}</div>
                        <div class="small text-muted">
                          <span>BLD</span> | {{item.dbl_date}}
                        </div>
                      </td>

                    </tr>

                    <tr>
                        <td colspan="5" class="no-data-available">
                          <a routerLink="/transmgt/mvtodv" style="margin-top:10px" class="float-right btn btn-primary"> View All</a>

                        </td>
                      </tr>

                  </tbody>
                </table>


            </tab>

            <tab *ngIf="tabs['dv2dp']"  heading='{{tabs["dv2dp"].title}}'>

              <!-- <div class="card-title">title</div> -->
                <table class="table table-responsive-sm table-hover table-outline mb-0">
                  <thead class="thead-light">
                      <tr>
                          <th>Depot Name</th>
                          <th>Depot Owner</th>
                          <th>Product Owner</th>
                          <th>Volume</th>

                        </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let item of tabs['dv2dp'].data"  >

                      <td>
                        <div>{{item.depot_name}}</div>

                      </td>
                      <td>
                        <div>{{item.depot_owner}}</div>

                      </td>
                      <td>
                        <div>{{item.owner}}</div>

                      </td>
                      <td>
                        <div>{{item.volume_discharge | number: '1.2-2'}}</div>

                      </td>

                    </tr>

                    <tr>
                        <td colspan="4" class="no-data-available">
                          <a routerLink="/transmgt/dvtodep" style="margin-top:10px" class="float-right btn btn-primary"> View All</a>

                        </td>
                      </tr>

                  </tbody>
                </table>

            </tab>
            <tab *ngIf="tabs['dp2tk']"  heading='{{tabs["dp2tk"].title}}'>

              <!-- <div class="card-title">title</div> -->
                <table class="table table-responsive-sm table-hover table-outline mb-0">
                  <thead class="thead-light">
                      <tr>
                          <th>Station Name</th>
                          <th>Station Owner</th>
                          <th>Oil Marketer</th>
                          <th>Volume</th>

                      </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let item of tabs['dp2tk'].data"  >

                        <td>
                            <div>{{item.station_name}}</div>

                          </td>
                          <td>
                            <div>{{item.station_owner}}</div>

                          </td>
                          <td>
                            <div>{{item.oil_marketer}}</div>

                          </td>
                          <td>
                            <div>{{item.volume_allocated | number: '1.2-2'}}</div>

                          </td>

                    </tr>

                    <tr>
                        <td colspan="4" class="no-data-available">
                          <a routerLink="/transmgt/deptruckout" style="margin-top:10px" class="float-right btn btn-primary"> View All</a>

                        </td>
                      </tr>

                  </tbody>
                </table>

            </tab>
            <tab *ngIf="tabs['tk2st']"  heading='{{tabs["tk2st"].title}}'>

              <!-- <div class="card-title">title</div> -->
                <table class="table table-responsive-sm table-hover table-outline mb-0">
                  <thead class="thead-light">
                      <tr>
                          <th>Station Name</th>
                          <th>Owner</th>
                          <th>Volume</th>

                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let item of tabs['tk2st'].data"  >

                        <td>
                            <div>{{item.station_name}}</div>

                          </td>
                          <td>
                            <div>{{item.owner}}</div>

                          </td>

                          <td>
                            <div>{{item.volume | number: '1.2-2'}}</div>

                          </td>

                    </tr>

                    <tr>
                        <td colspan="3" class="no-data-available">
                          <a routerLink="/transmgt/statreceipt" style="margin-top:10px" class="float-right btn btn-primary"> View All</a>

                        </td>
                      </tr>

                  </tbody>
                </table>

            </tab>
          </tabset>
        </div>

      </div>
    </div><!--/.col-->
  </div><!--/.row-->
</div>
